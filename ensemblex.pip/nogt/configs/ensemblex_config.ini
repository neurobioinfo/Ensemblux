############# Config Trace
############# [DEFAULT]
############# Depending on system and your requirments,  
############# change the defaults

########################
## General parameters ##
########################
METHOD=noGT
CONTAINER_CMD=singularity

###############
## Demuxalot ##
###############
## List of Sample ID's in the sample VCF file generated by Freemuxlet: outs.clust1.vcf (e.g., 'CLUST0,CLUST1,CLUST2').
PAR_demuxalot_genotype_names=''
## Read prior strength
PAR_demuxalot_prior_strength=100
## Minimum read coverage
PAR_demuxalot_minimum_coverage=200
## Minimum alternative read coverage
PAR_demuxalot_minimum_alternative_coverage=10
## Number of best snps for each donor to use for demultiplexing
PAR_demuxalot_n_best_snps_per_donor=100
## Genotype prior strength
PAR_demuxalot_genotypes_prior_strength=1
## Doublet prior strength
PAR_demuxalot_doublet_prior=0.25

################
## Freemuxlet ##
################
## Number of pooled samples
PAR_freemuxlet_nsample=

################
## Souporcell ##
################
## Minimap2 parameters. For information regarding the minimap2 parameters, please see the documentation: 
PAR_minimap2='-ax splice -t 8 -G50k -k 21 -w 11 --sr -A2 -B8 -O12,32 -E2,1 -r200 -p.5 -N20 -f1000,5000 -n2 -m20 -s40 -g2000 -2K50m --secondary=no'
## Freebayes parameters. For information regarding the freebayes parameters, please see the documentation: 
PAR_freebayes=' -iXu -C 2 -q 20 -n 3 -E 1 -m 30 --min-coverage 6'
## Whether or no to consider UMI information when populating coverage matrices
PAR_vartrix_umi=TRUE
## Minimum read mapping quality
PAR_vartrix_mapq=30
## Number of threads for computing
PAR_vartrix_threads=8
## Number of pooled samples
PAR_souporcell_k=
## Number of threads for computing
PAR_souporcell_t=8

###########
## Vireo ##
###########
## Number of pooled samples
PAR_vireo_N=4
## Number of subprocesses for computing
PAR_vireo_processes=20
## Minimum minor allele frequency
PAR_vireo_minMAF=0.1
## Minimum aggregated count
PAR_vireo_minCOUNT=20
## Whether or not to treat donor GT as prior only
PAR_vireo_forcelearnGT=T

#########################
## ensemblex algorithm ##
#########################
#== Pool parameters ==#
## Number of pooled samples
PAR_ensemblex_sample_size=
## Expected doublet rate for the pool. If using 10X Genomics, the expected doublet rate can be estimated based on the number of recovered cells. 
PAR_ensemblex_expected_doublet_rate=0.12

#== Set up parameters ==#
## Whether or not to merge the output files of the constituent demultiplexing tools. If running ensemblex on a pool for the first time, this parameter should be set to "Yes".
PAR_ensemblex_merge_constituents=yes

#== Step 1 parameters: Probabilistic-weighted ensemble ==#
## Whether or not to perform Step 1: Probabilistic-weighted ensemble. If running ensemblex on a pool for the first time, this parameter should be set to "Yes".
PAR_ensemblex_probabilistic_weighted_ensemble=yes

#== Step 2 parameters: Graph-based doublet detection ==#
## Whether or not to perform a preliminary parameter sweep for Step 2: Graph-based doublet detection. Users should utilize the preliminary parameter sweep if they wish to manually define the number of confident doublets in the pool (nCD) and the percentile threshold of the nearest neighour frequency (pT), which can be defined in the following two parameters, respectively.
PAR_ensemblex_preliminary_parameter_sweep=no
## Manually defined number of confident doublets in the pool (nCD). To manually define nCD, uncomment the parament and enter the value (e.g., PAR_ensemblex_nCD=200)
#PAR_ensemblex_nCD=
## Manually defined percentile threshold of the nearest neighour frequency (pT. To manually define pT, uncomment the parament and enter the value (e.g., PAR_ensemblex_pT=0.9)
#PAR_ensemblex_pT=
## Whether or not to perform Step 2: Graph-based doublet detection. If PAR_ensemblex_nCD and PAR_ensemblex_pT are not defined by the user (NULL), ensemblex will automatically determine the optimal parameter values using an unsupervised parameter sweep. If PAR_ensemblex_nCD and PAR_ensemblex_pT are defined by the user, graph-based doublet detection will be performed with the user-defined values.
PAR_ensemblex_graph_based_doublet_detection=yes

#== Step 3 parameters: Ensemble-independent doublet detection ==#
## Whether or not to perform a preliminary parameter sweep for Step 3: Ensemble-independent doublet detection. Users should utilize the preliminary parameter sweep if they wish to manually define which constituent tools to utilize for ensemble-independent doublet detection. Users can define which tools to utilize for ensemble-independent doublet detection in the following parameters.
PAR_ensemblex_preliminary_ensemble_independent_doublet=no
## Whether or not to perform Step 3: Ensemble-independent doublet detection.
PAR_ensemblex_independent_doublet=yes
## Whether or not to label doublets identified by Demuxalot as doublets. Only doublets with assignment probabilities exceeding Demuxalot's recommended probability threshold will be labeled as doublets by ensemblex.
PAR_ensemblex_doublet_Demuxalot_threshold=yes
## Whether or not to label doublets identified by Demuxalot as doublets, regardless of the corresponding assignment probability.
PAR_ensemblex_doublet_Demuxalot_no_threshold=no
## Whether or not to label doublets identified by Demuxlet as doublets. Only doublets with assignment probabilities exceeding Demuxlet's recommended probability threshold will be labeled as doublets by ensemblex.
PAR_ensemblex_doublet_Freemuxlet_threshold=no
## Whether or not to label doublets identified by Demuxlet as doublets, regardless of the corresponding assignment probability.
PAR_ensemblex_doublet_Freemuxlet_no_threshold=no
## Whether or not to label doublets identified by Souporcell as doublets. Only doublets with assignment probabilities exceeding Souporcell's recommended probability threshold will be labeled as doublets by ensemblex.
PAR_ensemblex_doublet_Souporcell_threshold=no
## Whether or not to label doublets identified by Souporcell as doublets, regardless of the corresponding assignment probability.
PAR_ensemblex_doublet_Souporcell_no_threshold=no
## Whether or not to label doublets identified by Vireo as doublets. Only doublets with assignment probabilities exceeding Vireo's recommended probability threshold will be labeled as doublets by ensemblex.
PAR_ensemblex_doublet_Vireo_threshold=yes
## Whether or not to label doublets identified by Vireo as doublets, regardless of the corresponding assignment probability.
PAR_ensemblex_doublet_Vireo_no_threshold=no

#== Confidence score parameters ==#
## Whether or not to compute ensemblex's singlet confidence score. This will define low confidence assignments which should be removed from downstream analyses.
PAR_ensemblex_compute_singlet_confidence=yes
